[2025-11-08 14:03:31] [INFO] - [Main] config.yml から設定をロードしました。
[2025-11-08 14:03:31] [INFO] - Loaded config:
{
  "num_clients": 5,
  "num_rounds": 20,
  "local_epochs": 2,
  "non_iid_alpha": 0.5,
  "rank": 4,
  "server_lr": 0.05,
  "client_lr": 0.01,
  "shapley_tmc_iterations": 20,
  "eval_interval": 1
}
[2025-11-08 14:03:31] [INFO] - 
[Main] Using device: cuda
[2025-11-08 14:03:31] [INFO] - 
[Main] 共通データセットを準備します...
[2025-11-08 14:03:33] [INFO] - [Data] Non-IIDデータ分割を開始 (Alpha=0.5)...
[2025-11-08 14:03:33] [INFO] - [Data] 5 クライアント分のデータローダーを作成完了。
[2025-11-08 14:03:33] [INFO] - --- [パート1] FedSGD (B-update) 版 ---
[2025-11-08 14:03:33] [INFO] - Clients: 5, Rounds: 20, Rank: 4
[2025-11-08 14:03:33] [INFO] - ------------------------------
[2025-11-08 14:03:33] [INFO] - [Server] FedSGD (B-update) サーバを初期化しました (lr=0.05)。
[2025-11-08 14:03:33] [INFO] - [Main] Client LR: 0.01
[2025-11-08 14:03:33] [INFO] - [Main] 5 クライアントの初期化完了。
[2025-11-08 14:03:33] [INFO] - ------------------------------
[2025-11-08 14:03:33] [INFO] - [Main] グローバルテスト精度を 1 ラウンドごとに計算します。
[2025-11-08 14:03:33] [INFO] - 
--- Round 1/20 ---
[2025-11-08 14:03:40] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.8965
[2025-11-08 14:03:45] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.9481
[2025-11-08 14:03:50] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.9762
[2025-11-08 14:03:52] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.7823
[2025-11-08 14:03:57] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.7645
[2025-11-08 14:03:57] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 3.5774)
[2025-11-08 14:03:57] [INFO] - 
[Main] Round 1: グローバルテスト精度を計算中...
[2025-11-08 14:03:59] [INFO] - ====== [Main] Round 1 Global Test Accuracy: 17.6700% ======
[2025-11-08 14:03:59] [INFO] - 
--- Round 2/20 ---
[2025-11-08 14:04:04] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.7856
[2025-11-08 14:04:09] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.8419
[2025-11-08 14:04:14] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.8882
[2025-11-08 14:04:17] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.6500
[2025-11-08 14:04:21] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.8466
[2025-11-08 14:04:21] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 2.1680)
[2025-11-08 14:04:21] [INFO] - 
[Main] Round 2: グローバルテスト精度を計算中...
[2025-11-08 14:04:23] [INFO] - ====== [Main] Round 2 Global Test Accuracy: 21.5800% ======
[2025-11-08 14:04:23] [INFO] - 
--- Round 3/20 ---
[2025-11-08 14:04:28] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.7389
[2025-11-08 14:04:33] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.8026
[2025-11-08 14:04:38] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.8529
[2025-11-08 14:04:41] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.6078
[2025-11-08 14:04:46] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.6042
[2025-11-08 14:04:46] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 1.7132)
[2025-11-08 14:04:46] [INFO] - 
[Main] Round 3: グローバルテスト精度を計算中...
[2025-11-08 14:04:47] [INFO] - ====== [Main] Round 3 Global Test Accuracy: 21.7400% ======
[2025-11-08 14:04:47] [INFO] - 
--- Round 4/20 ---
[2025-11-08 14:04:52] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.6652
[2025-11-08 14:04:58] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.7692
[2025-11-08 14:05:03] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.8282
[2025-11-08 14:05:06] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.5845
[2025-11-08 14:05:10] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.6470
[2025-11-08 14:05:10] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 1.3765)
[2025-11-08 14:05:10] [INFO] - 
[Main] Round 4: グローバルテスト精度を計算中...
[2025-11-08 14:05:12] [INFO] - ====== [Main] Round 4 Global Test Accuracy: 23.0700% ======
[2025-11-08 14:05:12] [INFO] - 
--- Round 5/20 ---
[2025-11-08 14:05:17] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.6200
[2025-11-08 14:05:22] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.7439
[2025-11-08 14:05:27] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.8107
[2025-11-08 14:05:29] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.5629
[2025-11-08 14:05:34] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.5730
[2025-11-08 14:05:34] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 1.1957)
[2025-11-08 14:05:34] [INFO] - 
[Main] Round 5: グローバルテスト精度を計算中...
[2025-11-08 14:05:35] [INFO] - ====== [Main] Round 5 Global Test Accuracy: 24.1400% ======
[2025-11-08 14:05:35] [INFO] - 
--- Round 6/20 ---
[2025-11-08 14:05:41] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.5384
[2025-11-08 14:05:46] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.7173
[2025-11-08 14:05:50] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.7909
[2025-11-08 14:05:53] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.5407
[2025-11-08 14:05:58] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.5224
[2025-11-08 14:05:58] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 1.2219)
[2025-11-08 14:05:58] [INFO] - 
[Main] Round 6: グローバルテスト精度を計算中...
[2025-11-08 14:05:59] [INFO] - ====== [Main] Round 6 Global Test Accuracy: 24.8600% ======
[2025-11-08 14:05:59] [INFO] - 
--- Round 7/20 ---
[2025-11-08 14:06:05] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.5022
[2025-11-08 14:06:10] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.6992
[2025-11-08 14:06:15] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.7695
[2025-11-08 14:06:18] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.5192
[2025-11-08 14:06:23] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.4870
[2025-11-08 14:06:23] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 0.7134)
[2025-11-08 14:06:23] [INFO] - 
[Main] Round 7: グローバルテスト精度を計算中...
[2025-11-08 14:06:24] [INFO] - ====== [Main] Round 7 Global Test Accuracy: 25.4500% ======
[2025-11-08 14:06:24] [INFO] - 
--- Round 8/20 ---
[2025-11-08 14:06:29] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.4657
[2025-11-08 14:06:35] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.6766
[2025-11-08 14:06:39] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.7626
[2025-11-08 14:06:42] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.5069
[2025-11-08 14:06:47] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.4633
[2025-11-08 14:06:47] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 1.3353)
[2025-11-08 14:06:47] [INFO] - 
[Main] Round 8: グローバルテスト精度を計算中...
[2025-11-08 14:06:49] [INFO] - ====== [Main] Round 8 Global Test Accuracy: 24.8800% ======
[2025-11-08 14:06:49] [INFO] - 
--- Round 9/20 ---
[2025-11-08 14:06:54] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.4521
[2025-11-08 14:07:00] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.6738
[2025-11-08 14:07:05] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.7453
[2025-11-08 14:07:08] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.4786
[2025-11-08 14:07:13] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.4375
[2025-11-08 14:07:13] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 1.8599)
[2025-11-08 14:07:13] [INFO] - 
[Main] Round 9: グローバルテスト精度を計算中...
[2025-11-08 14:07:14] [INFO] - ====== [Main] Round 9 Global Test Accuracy: 24.2500% ======
[2025-11-08 14:07:14] [INFO] - 
--- Round 10/20 ---
[2025-11-08 14:07:19] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.4063
[2025-11-08 14:07:25] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.6580
[2025-11-08 14:07:29] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.7390
[2025-11-08 14:07:32] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.4533
[2025-11-08 14:07:37] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.4063
[2025-11-08 14:07:37] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 1.1843)
[2025-11-08 14:07:37] [INFO] - 
[Main] Round 10: グローバルテスト精度を計算中...
[2025-11-08 14:07:39] [INFO] - ====== [Main] Round 10 Global Test Accuracy: 24.7100% ======
[2025-11-08 14:07:39] [INFO] - 
--- Round 11/20 ---
[2025-11-08 14:07:44] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.3712
[2025-11-08 14:07:49] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.6456
[2025-11-08 14:07:54] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.7347
[2025-11-08 14:07:56] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.4125
[2025-11-08 14:08:01] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.3900
[2025-11-08 14:08:01] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 2.3282)
[2025-11-08 14:08:01] [INFO] - 
[Main] Round 11: グローバルテスト精度を計算中...
[2025-11-08 14:08:02] [INFO] - ====== [Main] Round 11 Global Test Accuracy: 23.9800% ======
[2025-11-08 14:08:02] [INFO] - 
--- Round 12/20 ---
[2025-11-08 14:08:08] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.3457
[2025-11-08 14:08:13] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.6383
[2025-11-08 14:08:17] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.7012
[2025-11-08 14:08:20] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.3653
[2025-11-08 14:08:25] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.4385
[2025-11-08 14:08:25] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 1.4990)
[2025-11-08 14:08:25] [INFO] - 
[Main] Round 12: グローバルテスト精度を計算中...
[2025-11-08 14:08:26] [INFO] - ====== [Main] Round 12 Global Test Accuracy: 24.9600% ======
[2025-11-08 14:08:26] [INFO] - 
--- Round 13/20 ---
[2025-11-08 14:08:31] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.3172
[2025-11-08 14:08:37] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.6241
[2025-11-08 14:08:41] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.6924
[2025-11-08 14:08:44] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.3626
[2025-11-08 14:08:49] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.3205
[2025-11-08 14:08:49] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 1.3399)
[2025-11-08 14:08:49] [INFO] - 
[Main] Round 13: グローバルテスト精度を計算中...
[2025-11-08 14:08:50] [INFO] - ====== [Main] Round 13 Global Test Accuracy: 25.1000% ======
[2025-11-08 14:08:50] [INFO] - 
--- Round 14/20 ---
[2025-11-08 14:08:55] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.3074
[2025-11-08 14:09:00] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.6106
[2025-11-08 14:09:05] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.6833
[2025-11-08 14:09:08] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.3555
[2025-11-08 14:09:13] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.3776
[2025-11-08 14:09:13] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 1.8742)
[2025-11-08 14:09:13] [INFO] - 
[Main] Round 14: グローバルテスト精度を計算中...
[2025-11-08 14:09:14] [INFO] - ====== [Main] Round 14 Global Test Accuracy: 24.9900% ======
[2025-11-08 14:09:14] [INFO] - 
--- Round 15/20 ---
[2025-11-08 14:09:19] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.3036
[2025-11-08 14:09:25] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.6138
[2025-11-08 14:09:29] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.6682
[2025-11-08 14:09:32] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.3581
[2025-11-08 14:09:37] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.2603
[2025-11-08 14:09:37] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 1.4475)
[2025-11-08 14:09:37] [INFO] - 
[Main] Round 15: グローバルテスト精度を計算中...
[2025-11-08 14:09:38] [INFO] - ====== [Main] Round 15 Global Test Accuracy: 25.0300% ======
[2025-11-08 14:09:38] [INFO] - 
--- Round 16/20 ---
[2025-11-08 14:09:44] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.2840
[2025-11-08 14:09:49] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.6009
[2025-11-08 14:09:53] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.6539
[2025-11-08 14:09:56] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.3531
[2025-11-08 14:10:01] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.2381
[2025-11-08 14:10:01] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 1.4169)
[2025-11-08 14:10:01] [INFO] - 
[Main] Round 16: グローバルテスト精度を計算中...
[2025-11-08 14:10:02] [INFO] - ====== [Main] Round 16 Global Test Accuracy: 23.5300% ======
[2025-11-08 14:10:02] [INFO] - 
--- Round 17/20 ---
[2025-11-08 14:10:07] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.2686
[2025-11-08 14:10:12] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.5964
[2025-11-08 14:10:17] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.6425
[2025-11-08 14:10:20] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.3540
[2025-11-08 14:10:25] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.1948
[2025-11-08 14:10:25] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 0.9308)
[2025-11-08 14:10:25] [INFO] - 
[Main] Round 17: グローバルテスト精度を計算中...
[2025-11-08 14:10:26] [INFO] - ====== [Main] Round 17 Global Test Accuracy: 23.4800% ======
[2025-11-08 14:10:26] [INFO] - 
--- Round 18/20 ---
[2025-11-08 14:10:31] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.2650
[2025-11-08 14:10:36] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.5959
[2025-11-08 14:10:41] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.6224
[2025-11-08 14:10:44] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.3640
[2025-11-08 14:10:48] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.1855
[2025-11-08 14:10:48] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 2.2215)
[2025-11-08 14:10:48] [INFO] - 
[Main] Round 18: グローバルテスト精度を計算中...
[2025-11-08 14:10:50] [INFO] - ====== [Main] Round 18 Global Test Accuracy: 25.2300% ======
[2025-11-08 14:10:50] [INFO] - 
--- Round 19/20 ---
[2025-11-08 14:10:55] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.2629
[2025-11-08 14:11:00] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.5816
[2025-11-08 14:11:05] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.6130
[2025-11-08 14:11:08] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.3545
[2025-11-08 14:11:13] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.2314
[2025-11-08 14:11:13] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 1.7729)
[2025-11-08 14:11:13] [INFO] - 
[Main] Round 19: グローバルテスト精度を計算中...
[2025-11-08 14:11:15] [INFO] - ====== [Main] Round 19 Global Test Accuracy: 25.1800% ======
[2025-11-08 14:11:15] [INFO] - 
--- Round 20/20 ---
[2025-11-08 14:11:20] [INFO] -   [Client 0] Local Train (A only): Avg Loss = 1.2456
[2025-11-08 14:11:25] [INFO] -   [Client 1] Local Train (A only): Avg Loss = 1.5774
[2025-11-08 14:11:30] [INFO] -   [Client 2] Local Train (A only): Avg Loss = 1.6195
[2025-11-08 14:11:33] [INFO] -   [Client 3] Local Train (A only): Avg Loss = 1.3410
[2025-11-08 14:11:37] [INFO] -   [Client 4] Local Train (A only): Avg Loss = 1.1915
[2025-11-08 14:11:37] [INFO] -          [Server] FedSGD Update: B_server を更新しました (Grad Norm: 1.8292)
[2025-11-08 14:11:37] [INFO] - 
[Server] Shapley値 (TMC) の計算を開始...
[2025-11-08 14:11:37] [INFO] -            [Shapley] TMC-Shapley (T=20) 開始...
[2025-11-08 14:11:39] [INFO] -            [Shapley] V(S=[4]) = 30.3700%
[2025-11-08 14:11:40] [INFO] -            [Shapley] V(S=[0, 4]) = 28.5700%
[2025-11-08 14:11:41] [INFO] -            [Shapley] V(S=[0, 1, 4]) = 26.4000%
[2025-11-08 14:11:42] [INFO] -            [Shapley] V(S=[0, 1, 3, 4]) = 26.1400%
[2025-11-08 14:11:44] [INFO] -            [Shapley] V(S=[0, 1, 2, 3, 4]) = 24.4700%
[2025-11-08 14:11:45] [INFO] -            [Shapley] V(S=[0]) = 24.9400%
[2025-11-08 14:11:46] [INFO] -            [Shapley] V(S=[0, 2]) = 26.4300%
[2025-11-08 14:11:48] [INFO] -            [Shapley] V(S=[0, 1, 2]) = 26.7600%
[2025-11-08 14:11:49] [INFO] -            [Shapley] V(S=[0, 1, 2, 3]) = 26.1400%
[2025-11-08 14:11:50] [INFO] -            [Shapley] V(S=[1, 4]) = 28.9600%
[2025-11-08 14:11:51] [INFO] -            [Shapley] V(S=[1, 3, 4]) = 24.6200%
[2025-11-08 14:11:53] [INFO] -            [Shapley] V(S=[1, 2, 3, 4]) = 24.1000%
[2025-11-08 14:11:54] [INFO] -            [Shapley] V(S=[1]) = 25.7900%
[2025-11-08 14:11:55] [INFO] -            [Shapley] V(S=[1, 3]) = 22.1800%
[2025-11-08 14:11:57] [INFO] -            [Shapley] V(S=[1, 2, 3]) = 23.8100%
[2025-11-08 14:11:58] [INFO] -            [Shapley] V(S=[0, 2, 3]) = 25.7400%
[2025-11-08 14:11:59] [INFO] -            [Shapley] V(S=[0, 1, 2, 4]) = 25.6900%
[2025-11-08 14:12:00] [INFO] -            [Shapley] V(S=[0, 1]) = 23.4200%
[2025-11-08 14:12:02] [INFO] -            [Shapley] V(S=[0, 1, 3]) = 27.9500%
[2025-11-08 14:12:03] [INFO] -            [Shapley] V(S=[3]) = 22.6700%
[2025-11-08 14:12:04] [INFO] -            [Shapley] V(S=[1, 2]) = 26.9500%
[2025-11-08 14:12:05] [INFO] -            [Shapley] V(S=[2]) = 22.7800%
[2025-11-08 14:12:07] [INFO] -            [Shapley] V(S=[2, 4]) = 22.7300%
[2025-11-08 14:12:08] [INFO] -            [Shapley] V(S=[2, 3, 4]) = 21.0800%
[2025-11-08 14:12:09] [INFO] -            [Shapley] V(S=[1, 2, 4]) = 25.0300%
[2025-11-08 14:12:11] [INFO] -            [Shapley] V(S=[0, 2, 3, 4]) = 22.5900%
[2025-11-08 14:12:11] [INFO] - [Server] Shapley Values (TMC) 算出完了:
[2025-11-08 14:12:11] [INFO] -          Client 0: phi = 6.1305
[2025-11-08 14:12:11] [INFO] -          Client 1: phi = 8.0480
[2025-11-08 14:12:11] [INFO] -          Client 2: phi = 3.1235
[2025-11-08 14:12:11] [INFO] -          Client 3: phi = 0.0630
[2025-11-08 14:12:11] [INFO] -          Client 4: phi = 7.1050
[2025-11-08 14:12:11] [INFO] - 
[Server] Gradient-based Proxy Validation を開始...
[2025-11-08 14:12:11] [INFO] - [Proxy Validation] 各クライアントの勾配貢献度 (C_i) を計算:
[2025-11-08 14:12:11] [INFO] -          Client 0: C_i = -2.6361e-01
[2025-11-08 14:12:11] [INFO] -          Client 1: C_i = -9.7049e-03
[2025-11-08 14:12:11] [INFO] -          Client 2: C_i = 3.0538e-01
[2025-11-08 14:12:11] [INFO] -          Client 3: C_i = 4.1602e-01
[2025-11-08 14:12:11] [INFO] -          Client 4: C_i = 4.9049e+00
[2025-11-08 14:12:11] [INFO] - 
========================================
[2025-11-08 14:12:11] [INFO] - --- Gradient-based Proxy 検証結果 ---
[2025-11-08 14:12:11] [INFO] - ========================================
[2025-11-08 14:12:11] [INFO] - Client ID  | Phi (Shapley値)    | C_i (Proxyスコア)   
[2025-11-08 14:12:11] [INFO] - ------------------------------------------------
[2025-11-08 14:12:11] [INFO] - 0          | 6.1305            | -2.6361e-01      
[2025-11-08 14:12:11] [INFO] - 1          | 8.0480            | -9.7049e-03      
[2025-11-08 14:12:11] [INFO] - 2          | 3.1235            | 3.0538e-01       
[2025-11-08 14:12:11] [INFO] - 3          | 0.0630            | 4.1602e-01       
[2025-11-08 14:12:11] [INFO] - 4          | 7.1050            | 4.9049e+00       
[2025-11-08 14:12:11] [INFO] - ------------------------------------------------
[2025-11-08 14:12:11] [INFO] - 
[相関分析結果]
[2025-11-08 14:12:11] [INFO] - スピアマン相関係数 (rho) : -0.2000 (p-value: 0.7471)
[2025-11-08 14:12:11] [INFO] - 
[結論] 相関が低いか負であり、Shapley値の妥当性に疑問があります。
[2025-11-08 14:12:11] [INFO] - 
[Main] Round 20: グローバルテスト精度を計算中...
[2025-11-08 14:12:12] [INFO] - ====== [Main] Round 20 Global Test Accuracy: 24.4700% ======
[2025-11-08 14:12:12] [INFO] - ------------------------------
[2025-11-08 14:12:12] [INFO] - --- [パート1] 学習完了 --- (総所要時間: 519.06 秒)
[2025-11-08 14:12:12] [INFO] - 
[Main] すべての処理が完了しました。
